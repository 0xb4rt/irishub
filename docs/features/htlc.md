# HTLC User Guide

## Concept

[Hashed Time Locked Contract (HTLC)]() is a protocol intended for cross-chain atomic swaps. It performs a P2P swap in a decentralized form. HTLC can guarantee that all swap processes among participating parties take place or nothing is done. Leveraging the HTLC on Iris Hub, users can implement cross-chain asset swaps with Bitcoin, Ethereum, LTC and all other chains which support HTLC.

## Interaction Process

Supposed that Alice swaps BTC for IRIS with Bob. The atomic swap process between Alice and Bob can be divided into following steps.

### step 0

### step 1

### step 2

### step 3


## Iris Hub HTLC Specification

### Create HTLC message

| **Field**       | **Type** | **Description**           |
|----------------|----------|------------------|
| receiver | Address | recipient address |
| receiverOnOtherChain | string | recipient address on other chains which contain a maximal of 32 bytes in hexadecimal form |
| amount | Coin | tokens to be swapped out |
| hashLock | string | sha256 hashed value in hexadecimal form, used to generated by a random secret and timestamp(if provided) |
| timestamp | uint64 | timestamp in seconds used to generate the hash lock together with secret, if provided|
| timeLock | uint64 | time span after which the HTLC expired ranged between 50 and 25480 (greater than 5 minitues, less than 48 hours) |

### Claim HTLC message

| **Filed**       | **Type** | **Description**           |
|----------------|----------|------------------|
| hashLock | string | the hash lock identifying the HTLC to be claimed |
| secret | string | a random number which generates the hash lock together with timestamp(if provided), being of 32 bytes in hexadecimal form |

### Refund HTLC message

| **Field**       | **Type** | **Description**           |
|----------------|----------|------------------|
| hashLock | string | the hash lock identifying the HTLC to be refuned |


## Action

### [Create HTLC]()
### [Claim HTLC]()
### [Refund HTLC]()
### [Query HTLC]()

